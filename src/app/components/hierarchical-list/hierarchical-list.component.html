<div class="hierarchicalListContainer flex flex-column w-full overflowScroll" [ngClass]="{
        'active': isActive,
        'showBorderLR': hierarchyDepth === 0,
        'showBorderL': showBorderL,
        'showBorderR': showBorderR,
    }">
    <!-- Add Article Button -->
    <!-- @TODO: Don't show the add article button when an article with the same exact name as {lsArticleName} already exists -->
    <div class="flex-column left flex justify-content-start align-items-center" *ngIf="showNewArticleButton">
        <div class="article borderTop w-full relative flex flex-row align-content-center justify-content-between hideChildUntilHoverParent"
            [ngClass]="{
                'borderBottom': hierarchyNodeSet.length === 0
            }" (click)="addArticleClicked.emit(lsArticleName)"
            [pTooltip]="'Add ' + (lsParentName ? ('new ' + lsParentName + ' '):'article ') + lsArticleName">
            <i class="pi pi-plus activeEntryFolderIcon active"></i>
            <div class="entryUniqueName pointerOnHover flex-grow-1">
                {{(lsParentName ? (lsParentName+": "+lsArticleName) : (lsArticleName))}}
            </div>
        </div>
    </div>
    <div *ngFor="let articleHierarchyNodeEntry of hierarchyNodeSet; first as isFirst; last as isLast; index as i">
        <div class="pseudoBorder top" *ngIf="isFirst"
            [ngClass]="{'active': currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name)}"></div>
        <div class="articleContainer flex-column left flex justify-content-start align-items-center" [ngClass]="{
                'active': currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name)
            }">
            <!-- Article Name & Buttons -->
            <div #articleNameAndButtons (click)="articleClickedEmitter.emit(articleHierarchyNodeEntry.node)"
                (contextmenu)="$event.preventDefault(); setlastRightClickedArticle(articleHierarchyNodeEntry); contextMenu.toggle(); dummy.click()"
                class="article w-full relative flex flex-row align-content-center hideChildUntilHoverParent"
                [pTooltip]="articleHierarchyNodeEntry.node.name" [ngClass]="{
                    'active': currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name),
                    'showBorderL': showBorderL,
                    'showBorderR': showBorderR,
                    'highlighted': false
            }">
                <i class="pi activeEntryFolderIcon"
                    [ngClass]="{'pi-folder-open': articleHierarchyNodeEntry.children.length > 0, 'pi-file': articleHierarchyNodeEntry.children.length === 0, 'active': currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name)}"></i>
                <div class="entryUniqueName pointerOnHover flex-grow-1">{{articleHierarchyNodeEntry.node.name}}</div>
                <i #contextMenuButton
                    class="contextMenuBtn absoluteRight pi pi-ellipsis-v hideChildUntilHoverChild pointerOnHover"
                    [ngClass]="{'active': currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name)}"
                    pTooltip="Open Context Menu" (click)="$event.stopPropagation(); setlastRightClickedArticle(articleHierarchyNodeEntry); contextMenu.toggle(); dummy.click()"></i>
            </div>

            <!-- Article Entry Context Menu -->
            <p-contextMenu #contextMenu [model]="items" [triggerEvent]="'click'"></p-contextMenu>

            <!-- Subarticles List -->
            <app-hierarchical-list class="w-full" *ngIf="articleHierarchyNodeEntry.children.length > 0"
                [listItems]="articleHierarchyNodeEntry.children"
                [isActive]="currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name)"
                [hierarchyDepth]="hierarchyDepth + 1" [showBorderL]="showBorderL" [showBorderR]="showBorderR"
                [currentWorkspace]="currentWorkspace" (articleClicked)="this.articleClickedEmitter.emit($event)">
            </app-hierarchical-list>
        </div>
        <div class="pseudoBorder bottom"
            [ngClass]="{'active': currentWorkspace.activeArticles.includes(articleHierarchyNodeEntry.node.name)}"></div>
    </div>
</div>
<!-- This element exists purely to fix the #contextMenu requiring two clicks to close -->
<div #dummy style="visibility: hidden;"></div>